<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.w3.org/MarkUp/SCHEMA/xhtml11.xsd"
	xml:lang="en">
	<head>            
    <title>Git Workshop</title>
    <link rel="stylesheet" href="css/github.css"></link>
    <link rel="stylesheet" href="css/workshop-screen.css" media="screen"></link>
    <link rel="stylesheet" href="css/workshop-print.css" media="print"></link>
	</head>
	<body>

    <div id="left">
    <h1 id="title">Git Workshop</h1>

    <p>
    <a href="http://www.huit.harvard.edu/">HUIT</a>-- Harvard University IT 
    </p>

    <div id="toc">
<ul>
<li><a href="#installing-git">Installing git</a></li>
<li><a href="#initial-configuration">Initial configuration</a></li>
<li><a href="#creating-a-repository">Creating a repository</a></li>
<li><a href="#whats-changed">What's changed?</a></li>
<li><a href="#adding-changes">Adding changes</a></li>
<li><a href="#committing-changes">Committing changes</a></li>
<li><a href="#removing-files">Removing files</a></li>
<li><a href="#when-things-go-wrong">When things go wrong</a></li>
<li><a href="#tags">Tags</a></li>
<li><a href="#managing-branches">Managing branches</a></li>
<li><a href="#interacting-with-remote-repositories">Interacting with remote repositories</a></li>
<li><a href="#about-this-document">About this document</a></li>
</ul>
</div>

  </div>

    <div id="content">
    <h2 id="installing-git">Installing git</h2>

<h3 id="for-linux">For Linux</h3>

<p>Git is probably available from your distribution.  If you are using
RHEL or CentOS, try:</p>

<pre><code>$ sudo yum install git
</code></pre>

<p>If you are using Ubuntu or Debian, try:</p>

<pre><code>$ sudo yum install git-core
</code></pre>

<h3 id="for-os-x">For OS X</h3>

<p>The <a href="http://git-scm.org">git website</a> provides an <a href="http://git-scm.com/download/mac">installer for OS X</a>,
but you will probably be better off installing <a href="http://macports.org">MacPorts</a>, a
collection of open source software for OS X, and then running:</p>

<pre><code>$ sudo port install git-core
</code></pre>

<h3 id="for-windows">For Windows</h3>

<p>Download and install <a href="http://code.google.com/p/msysgit/">msysgit</a>, which will provide you with:</p>

<ul>
<li>A <code>bash</code> shell,</li>
<li>The command-line <code>git</code> tools, and</li>
<li>OpenSSH</li>
</ul>

<p>This will give you an environment largely similar to that available on
Linux and OS X.</p>

<h2 id="initial-configuration">Initial configuration</h2>

<p>Git will look for configuration information inside the per-repository
<code>.git/config</code> file and in the global <code>$HOME/.gitconfig</code>.  The <code>git config</code>
command modifies these configuration files, although you can also edit
them with your favorite text editor.  They are standard INI-style
configuration files:</p>

<pre><code>[alias]
        ci = commit
        co = checkout
        gl = log --pretty=oneline
[user]
        name = Lars Kellogg-Stedman
        email = lars@seas.harvard.edu
</code></pre>

<p>Git provides a simple way to open your global configuration file in an
editor:</p>

<pre><code>$ git config --global --edit
</code></pre>

<h3 id="name-and-email">Name and email</h3>

<p>Git needs to know who you are in order to correctly attribute your
changes.  You can configure your username and email address globally
like this:</p>

<pre><code>$ git config --global user.name "Lars Kellogg-Stedman"
$ git config --global user.email "lars@seas.harvard.edu"
</code></pre>

<h3 id="editor">Editor</h3>

<p>For operations that require you to provide messages (such as commits
and tags), git will look in the following places to figure out which
editor to use:</p>

<ul>
<li>The <code>GIT_EDITOR</code> environment variable.</li>
<li>The <code>core.editor</code> configuration option.</li>
<li>The <code>VISUAL</code> environment variable.</li>
<li>The <code>EDITOR</code> environment variable.</li>
</ul>

<p>The <code>VISUAL</code> and <code>EDITOR</code> environment variables are traditionally used
by a variety of Unix tools to select your editor, so you may already
have these set to something sensible.</p>

<h3 id="colors">Colors</h3>

<p>Many git commands can produce colorized output.  Set <code>color.ui</code> to
<code>auto</code> to have git produce colorized output when writing to a
terminal:</p>

<pre><code>$ git config --global color.ui auto
</code></pre>

<h3 id="aliases">Aliases</h3>

<p>Git allows you to configure aliases for commonly used commands and
options.   As you use git you may find yourself frequently typing in
the same commands and options; using aliases is a good way to save
yourself some typing.</p>

<p>Start with these:</p>

<pre><code>$ git config --global alias.co checkout
$ git config --global alias.ci commit
</code></pre>

<p>Otherwise you will go insane during the rest of this workshop.</p>

<h2 id="creating-a-repository">Creating a repository</h2>

<p>A <em>repository</em> is what contains the change history for your project.</p>

<p>When interacting with git, you will typically have a set of
files called your <em>working directory</em>, inside which is a directory
called <code>.git</code> which is the actual <em>repository</em>.</p>

<h3 id="from-an-existing-directory">From an existing directory</h3>

<p>Run <code>git init</code> to create a git repository inside an existing
directory:</p>

<pre><code>$ cd myproject
$ git init
Initialized empty Git repository in /home/lars/myproject/.git/
</code></pre>

<p>If you have a collection of files you would like to manage
using <code>git</code>, the process will look something like this:</p>

<pre><code>$ cd myproject
$ git init
Initialized empty Git repository in /home/lars/myproject/.git/
$ git add .
$ git commit -m 'initial import'
</code></pre>

<p>We'll talk about these commands in more detail later on.</p>

<h3 id="from-scratch">From scratch</h3>

<p>With recent versions of git you can simply type:</p>

<pre><code>$ git init myproject
Initialized empty Git repository in /home/lars/myproject/.git/
</code></pre>

<p>This will create the <code>myproject</code> directory and initialize a git
repository inside the directory.  In older versions of git it was
necessary to create the directory first:</p>

<pre><code>$ mkdir myproject
$ cd myproject
$ git init
</code></pre>

<h3 id="from-a-remote-repository">From a remote repository</h3>

<p>Another way to create a git repository is to copy -- or <em>clone</em> it --
from somewhere else using the <code>git clone</code> command.  For example:</p>

<pre><code>$ git clone git://github.com/robparrott/git-workshop-sample1.git
</code></pre>

<p>Which should result in output along the lines of:</p>

<pre><code>Cloning into 'sample1'...
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 0), reused 0 (delta 0)
Receiving objects: 100% (3/3), done.
</code></pre>

<p>After the <code>clone</code> operation completes, you will have a directory
called <code>sample1</code> inside your current directory.</p>

<h2 id="whats-changed">What's changed?</h2>

<h3 id="git-status">git status</h3>

<p>The <code>git status</code> command displays information about the state of files
in your working directory. If you were to run it inside the <code>sample1</code>
directory from the previous step, your output should look like this:</p>

<pre><code>$ cd sample1
$ git status
# On branch master
nothing to commit (working directory clean)
</code></pre>

<p>Now try creating a new file:</p>

<pre><code>$ echo Hello world. &gt; newfile.txt
</code></pre>

<p>And re-run <code>git status</code>:</p>

<pre><code>$ git status
# Untracked files:
#   (use "git add &lt;file&gt;..." to include in what will be committed)
#
#   newfile.txt
nothing added to commit but untracked files present (use "git add" to track)
</code></pre>

<p>The output shows that there is a new file in our working directory
that git knows nothing about ("untracked").  We will look at how to
add this file to the repository in the next section.</p>

<h3 id="git-diff">git diff</h3>

<p>The <code>diff</code> command shows the changes between different versions of
your files.  Without any additional parameters, it will show the
difference between your working copy and the repository:</p>

<pre><code>$ git diff
</code></pre>

<p>Edit <code>hello.py</code> so that it looks like this:</p>

<pre><code>#!/usr/bin/python

import os
import sys

print 'Hello, Harvard!'
</code></pre>

<p>And re-run <code>git diff</code>:</p>

<pre><code>$ git diff
diff --git a/hello.py b/hello.py
index e42612d..a557bf7 100644
--- a/hello.py
+++ b/hello.py
@@ -1,4 +1,7 @@
 #!/usr/bin/python

-print 'Hello, world.'
+import os
+import sys
+
+print 'Hello, Harvard!'
</code></pre>

<p>The output of <code>git diff</code> shows where we have added or removed (or
modified) lines.</p>

<h3 id="git-blame">git blame</h3>

<p>The <code>blame</code> command shows who is responsible for each line in a file.
For example, running <code>git blame</code> on the file <code>hello.py</code> yields:</p>

<pre><code>$ git blame hello.py
^af1bee6 (Lars Kellogg-Stedman 2012-06-08 12:42:06 -0400 1) #!/usr/bin/python
^af1bee6 (Lars Kellogg-Stedman 2012-06-08 12:42:06 -0400 2) 
59e1d7d0 (Lars Kellogg-Stedman 2012-06-08 12:42:47 -0400 3) import os
59e1d7d0 (Lars Kellogg-Stedman 2012-06-08 12:42:47 -0400 4) import sys
59e1d7d0 (Lars Kellogg-Stedman 2012-06-08 12:42:47 -0400 5) 
59e1d7d0 (Lars Kellogg-Stedman 2012-06-08 12:42:47 -0400 6) # Note that in Python 3 "print" becomes a function call
59e1d7d0 (Lars Kellogg-Stedman 2012-06-08 12:42:47 -0400 7) # instead of a statement.
^af1bee6 (Lars Kellogg-Stedman 2012-06-08 12:42:06 -0400 8) print "Hello, world."
^af1bee6 (Lars Kellogg-Stedman 2012-06-08 12:42:06 -0400 9)
</code></pre>

<p>The first column identifes the commit ID that last modified this line.
This is followed by the committer name, date, and time, and finally by
the actual file contents.</p>

<h2 id="adding-changes">Adding changes</h2>

<p>You add changes to your repository with the <code>add</code> command.  Create a
file called <code>newfile.txt</code>:</p>

<pre><code>$ echo This is a test. &gt; newfile.txt
</code></pre>

<p>And add this to the repository:</p>

<pre><code>$ git add newfile.txt
</code></pre>

<p>And now run <code>git status</code>:</p>

<pre><code>$ git status
# On branch master
# Changes to be committed:
#   (use "git reset HEAD &lt;file&gt;..." to unstage)
#
#       new file:   newfile.txt
#
</code></pre>

<p>This shows that the next time we run <code>commit</code>, this file will be added
to the repository. </p>

<h2 id="committing-changes">Committing changes</h2>

<p>The <code>commit</code> command records changes in your repository.  Let's commit
the changes we made in the previous step:</p>

<pre><code>$ git commit -m 'Added a new file.'
 1 files changed, 1 insertions(+), 0 deletions(-)
 create mode 100644 newfile.txt
</code></pre>

<h2 id="removing-files">Removing files</h2>

<pre><code>$ git rm newfile.txt
</code></pre>

<h2 id="when-things-go-wrong">When things go wrong</h2>

<h3 id="redoing-previous-commit">Redoing previous commit</h3>

<p>If immediately after you commit changes to a repository you realize
you've made a mistake, you can replace the previous commit with a new one
using the <code>--amend</code> option to the <code>commit</code> command.</p>

<p>For example, let's say that after committing some changes to a
website...</p>

<pre><code>$ git commit -m "use new stylesheets in all of our pages"
</code></pre>

<p>...you realized that you had forgotten to actually add the stylesheets
as part of the commit.  You can type:</p>

<pre><code>$ git add css
$ git commit --amend
</code></pre>

<p>This will replace the previous commit with a new one containing both
the changes from the previuos commit and your most recent changes.</p>

<h3 id="reset">Reset</h3>

<p>The <code>reset</code> command will <strong>discard history</strong> from your project and
reset your repository to a prior state. </p>

<h3 id="revert">Revert</h3>

<p>The <code>revert</code> command will generate a new commit that reverses the
changes caused by a previous commit.</p>

<h2 id="tags">Tags</h2>

<h2 id="managing-branches">Managing branches</h2>

<h3 id="merging-and-rebasing">Merging and rebasing</h3>

<h2 id="interacting-with-remote-repositories">Interacting with remote repositories</h2>

<h3 id="cloning-a-remote-repository">Cloning a remote repository</h3>

<h3 id="add-a-remote-repository">Add a remote repository</h3>

<h3 id="pushing-your-changes">Pushing your changes</h3>

<h2 id="about-this-document">About this document</h2>

<p>The complete source for this document is available at
<a href="http://github.com/robparrott/git-workshop">http://github.com/robparrott/git-workshop</a>.</p>

<p>This document was written using <a href="http://daringfireball.net/projects/markdown/">markdown</a>, a lightweight markup language. <br />
The markdown source for this document is available <a href="gitworkshop.txt">here</a>.</p>

<!-- vim: set ft=markdown : -->

    </div>
	</body>
</html>

